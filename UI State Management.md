## Proposal

Addon SDK UI components should be extendable.  However SDK UI
components also have state, and state scopes (global/window/tab)
which need to be considered.  Therefore in order to support
both state scopes and extensibility there needs to be a mechanism
for which other add-ons can fetch and change states for specific
scopes.

The web has REST which provides a solution to this problem domain
in a different context, the web.  REST is implemented by storing
state in a server and communicating state over the HTTP protocol.

The Firefox should behave similiarly, but in it's specific context.

### Definitions

#### Source UI Component

In any UI group there will be a "source" UI component, this will
be the first UI component constructed in the group.

Since multiple UI components can be generated before they are
bound together

### Use Cases

#### Intra-SDK Component Synchronization

Sidebars require menuitems, and it must be possible to attach a button
to them easily.  Buttons however can also have states that are scope
specific, which means they can have a state for a tab that is different
from other tabs for example.  This state scoping must also be possible
for Sidebars at some point.  Therefore all of these separate UI components
must have some means for grouping, whereby they are
updating each other about state changes which
the others need to react to.

#### Inter Add-on Component Synchronization

In order to have the SDK UI components be extendable, that is so that
other add-ons can make changes to their state or add other components
(be they UI or otherwise) to their group there must be some means for
which these extended components can post/fetch upddates for the group
of components.

## Implementation

State for components will be stored in a private scope provided
by the SDK loader associated to the source add-on for which the extendable
UI components were created.  Information about the component states
will transported through the observer service, because it is globally
available to all systems within the platform.

### API

The API being described is the information that will be transported over the
observer service.

##### Topic:

* `addon-ui-component-state-request`: used by one component in a group to request
information about other components in the group (example: on setup).
* `addon-ui-component-state-response`: used to respond to requests.
* `addon-ui-component-state-update`: used to notify observes about state changes that are
made either by the user (example: toggling checked state), or by the system (example: add-on is
unloaded and therefor the ui component group is removed/deteled)

##### Subject:

The `Addon.id` of the source UI component(s).

##### Data:

This is the interesting stuff.

* `component-id`: An `id` for the component, which will be generated by the source UI component.

### Examples



### Dependencies & Requirements

## Prior Art

[REST](https://en.wikipedia.org/wiki/REST)

